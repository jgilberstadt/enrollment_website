<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<!--
    NOTE: This Annual FollowUp CRF is not complete.  It still needs more work.
-->
    <ui:composition template="./formTemplate.xhtml">
        <ui:define name="form_title">
            
            <h:outputStylesheet library="css" name="ecpregistry.css" />
            
            <div id="#{controller.style.header}">
                <h3>Extracorporeal Photopheresis (ECP) for the Management of Progressive Bronchiolitis Obliterans Syndrome (BOS) in Medicare-Eligible Recipients of Lung Allografts</h3>
                <h2>ANNUAL FOLLOW-UP  - Case Report Form (CRF)</h2>
            </div>
            <div>
                <h2>Please include the following types of source documents:</h2>
                <div>
                <b>1. ECP Report: Please include one page of the ECP report noting date of the procedure</b>
                </div>
            </div>

        </ui:define>
       
        <ui:define name="form_content">
            <div id="crfcenterparticipantidsdate">
                <div>
                <b>Date of Annual Follow Up: </b>
                <p:calendar id="annualFollowUpDate" class="calendar" value="#{controller.annualFollowUpForm.annualFollowUpDate}" requiredMessage="#{msgs.annualFollowUpDate}" disabled="#{controller.annualFollowUpForm.locked}" mode="popup" showOn="button" showButtonPanel="false" pattern="MM/dd/yyyy" navigator="true" size="10" converter="strictDateTimeConverter">
                    <f:validateRequired disabled="#{!param['VALIDATE']}" />  <!-- The value for the param variable VALIDATE is determined in the formTemplate.xhtml file under c:if test -->
                </p:calendar>                
                </div>
            </div>
            <p:message for="annualFollowUpDate" />
            <br/>
            
            <div>          
                <div class="treatment-parameters">
                    <h:panelGrid columns="2" >
                        <h:outputLabel class="treatment-parameters-questions" value="1. Is participant receiving maintenance ECP Treatments? " />
                        <h:selectOneRadio id="ques1" class="yesnoanswers" requiredMessage="#{msgs.annualFollowUpReceivingECPTx}" value="#{controller.annualFollowUpForm.annualFollowUpReceivingECPTx}" disabled="#{controller.annualFollowUpForm.locked}" style="display: inline-table;">
                            <f:selectItem itemValue="true" itemLabel="YES"/>
                            <f:selectItem itemValue="false" itemLabel="NO" /> 
                            <f:validateRequired disabled="#{!param['VALIDATE']}" />
                        </h:selectOneRadio>
                    </h:panelGrid>
                </div>
                <p:message for="ques1" />

                <div class="pre-treat-assess">
                    <b>2. Number of ECP maintenance treatments in the last 12 months: </b>
                    <h:inputText id="ques2" requiredMessage="#{msgs.annualFollowUpNumberECPTx}" value="#{controller.annualFollowUpForm.annualFollowUpNumberECPTx}" disabled="#{controller.annualFollowUpForm.locked}" size="3" validatorMessage="Validation Error: More than 52 annual ECP treatments were input." >
                        <f:validateLongRange minimum="0" maximum ="60"/>
                        <f:validateRequired disabled="#{!param['VALIDATE']}" />
                    </h:inputText>
                </div>
                <p:message for="ques2" />

                
                <div class="question-inputText">
                    <b>3. Please list the dates of the ECP treatments in the last Year. </b>
                </div>
                <h:panelGroup rendered="#{controller.renderVerificationPanel('annualFollowUpECPTxDate1')}">
                    <div class="selectVerificationStatusIndented">
                        <h:outputLabel value="Q3: VERIFICATION STATUS " rendered="true"/>
                        <h:selectOneMenu id="ques3" value="#{controller.annualFollowUpForm.annualFollowUpECPTxDate1VerificationStatus}" rendered="true">
                            <f:selectItems value="#{controller.annualFollowUpForm.verificationTypes}" var="v" itemValue="#{v}" itemLabel="#{v.name}"/>
                        </h:selectOneMenu>
                    </div>
                    <div class="selectVerificationStatusIndented">
                        <h:outputText value="DCC Query Comment: " rendered="true" />
                        <h:inputTextarea value="#{controller.annualFollowUpForm.annualFollowUpECPTxDate1DccComment}" rows="1" cols="50" rendered="true" /> 
                    </div>
                </h:panelGroup>
                <p:message for="ques3" />

                
                
                
            <table rowClasses="odd-row,even-row" headerClass="header-class" styleClass="datatable-class" border="0px solid black">
                <tbody>
                    <tr>
                        <td>                        
                        <div>
                            <div>
                            1. <p:calendar id="annualFollowUpECPTxDate1" class="calendar" value="#{controller.annualFollowUpForm.annualFollowUpECPTxDate1}" disabled="#{controller.annualFollowUpForm.locked}" mode="popup" showOn="button" pattern="MM/dd/yyyy" navigator="true" size="10"  converter="strictDateTimeConverter" />
                            </div>
                        </div>
                        </td>
                        <td>
                        <div>
                            <div>
                            11. <p:calendar id="annualFollowUpECPTxDate11" class="calendar" value="#{controller.annualFollowUpForm.annualFollowUpECPTxDate11}" disabled="#{controller.annualFollowUpForm.locked}" mode="popup" showOn="button" pattern="MM/dd/yyyy" navigator="true" size="10"  converter="strictDateTimeConverter" />
                            </div>
                        </div>
                        </td>
                        <td>
                        <div>
                            <div>
                            21. <p:calendar id="annualFollowUpECPTxDate21" class="calendar" value="#{controller.annualFollowUpForm.annualFollowUpECPTxDate21}" disabled="#{controller.annualFollowUpForm.locked}" mode="popup" showOn="button" pattern="MM/dd/yyyy" navigator="true" size="10"  converter="strictDateTimeConverter" />
                            </div>
                        </div>
                        </td>
                    </tr>
                    <tr>
                        <td>                        
                        <div>
                            <div>
                            2. <p:calendar id="annualFollowUpECPTxDate2" class="calendar" value="#{controller.annualFollowUpForm.annualFollowUpECPTxDate2}" disabled="#{controller.annualFollowUpForm.locked}" mode="popup" showOn="button" pattern="MM/dd/yyyy" navigator="true" size="10"  converter="strictDateTimeConverter" />
                            </div>
                        </div>
                        </td>
                        <td>
                        <div>
                            <div>
                            12. <p:calendar id="annualFollowUpECPTxDate12" class="calendar" value="#{controller.annualFollowUpForm.annualFollowUpECPTxDate12}" disabled="#{controller.annualFollowUpForm.locked}" mode="popup" showOn="button" pattern="MM/dd/yyyy" navigator="true" size="10"  converter="strictDateTimeConverter" />
                            </div>
                        </div>
                        </td>
                        <td>
                        <div>
                            <div>
                            22. <p:calendar id="annualFollowUpECPTxDate22" class="calendar" value="#{controller.annualFollowUpForm.annualFollowUpECPTxDate22}" disabled="#{controller.annualFollowUpForm.locked}" mode="popup" showOn="button" pattern="MM/dd/yyyy" navigator="true" size="10"  converter="strictDateTimeConverter" />
                            </div>
                        </div>
                        </td>
                    </tr>
                    <tr>
                        <td>                        
                        <div>
                            <div>
                            3. <p:calendar id="annualFollowUpECPTxDate3" class="calendar" value="#{controller.annualFollowUpForm.annualFollowUpECPTxDate3}" disabled="#{controller.annualFollowUpForm.locked}" mode="popup" showOn="button" pattern="MM/dd/yyyy" navigator="true" size="10"  converter="strictDateTimeConverter" />
                            </div>
                        </div>
                        </td>
                        <td>
                        <div>
                            <div>
                            13. <p:calendar id="annualFollowUpECPTxDate13" class="calendar" value="#{controller.annualFollowUpForm.annualFollowUpECPTxDate13}" disabled="#{controller.annualFollowUpForm.locked}" mode="popup" showOn="button" pattern="MM/dd/yyyy" navigator="true" size="10"  converter="strictDateTimeConverter" />
                            </div>
                        </div>
                        </td>
                        <td>
                        <div>
                            <div>
                            23. <p:calendar id="annualFollowUpECPTxDate23" class="calendar" value="#{controller.annualFollowUpForm.annualFollowUpECPTxDate23}" disabled="#{controller.annualFollowUpForm.locked}" mode="popup" showOn="button" pattern="MM/dd/yyyy" navigator="true" size="10"  converter="strictDateTimeConverter" />
                            </div>
                        </div>
                        </td>
                    </tr>
                </tbody>
            </table>

                
                
                             
                <div class="question-inputText">
                    <b>4. Please enter all PFTs completed in the last year in the EDC system. Each PFT must be added separately by clicking the “Add New Event” box on the Participant Summary page then select Pulmonary Evaluation and click Submit. There must be at least one annual PFT. </b>
                    <div>
                        <b>Date of Annual PFT</b>
                        <p:calendar id="ques4" class="calendar" value="#{controller.annualFollowUpForm.annualFollowUpPFTDate}" requiredMessage="#{msgs.annualFollowUpPFTDate}" disabled="#{controller.annualFollowUpForm.locked}" mode="popup" showOn="button" pattern="MM/dd/yyyy" navigator="true" size="10" converter="strictDateTimeConverter">
                            <f:validateRequired disabled="#{!param['VALIDATE']}" />
                        </p:calendar>
                    </div>
                </div>
                <p:message for="ques4" />


            </div>
            
        </ui:define>
    </ui:composition>

</html>
